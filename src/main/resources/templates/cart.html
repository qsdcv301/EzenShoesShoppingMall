<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Shoes Shop</title>
    <!-- 부트스트랩 아이콘 사용 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet"/>
    <link href="/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="/css/style.css" rel="stylesheet"/>
    <script src="/js/jquery-1.12.4.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/popper.min.js"></script>
    <script src="/js/script.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
        }

        .header, .footer {
            text-align: center;
            padding: 20px;
            background-color: #f8f9fa;
        }

        .product-card {
            border: 1px solid #ddd;
            margin-bottom: 15px;
        }

        .product-card img {
            width: 100px;
            height: auto;
        }

        .total-price {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 5px;
        }

        .btn-primary {
            background-color: #007bff;
        }
    </style>
</head>
<body>
<header th:replace="~{fragments/header :: header}"></header>
<div class="container my-4">
    <div class="row">
        <div class="col-md-8">
            <h2>주문 상품 요약</h2>
            <div id="product-list">
                <div class="mt-3">
                    <button id="select-all" class="btn btn-secondary">전체 선택/해제</button>
                    <button id="delete-selected" class="btn btn-danger">선택 삭제</button>
                </div>

                <!-- 상품 추가 루프 -->
                <div class="product-card card mt-3" th:each="product, index : ${productList}">
                    <input id="product-id" type="hidden" th:value="${product.id}">
                    <div class="card-body d-flex align-items-center">
                        <input type="checkbox" class="mr-3 product-checkbox">
                        <img th:src="${imageUrls.get(index.index)}"
                             th:alt="${product.name}" class="img-thumbnail mr-3">
                        <div>
                            <h5 class="card-title" th:text="${product.name}">나이키 에어맥스</h5>
                            <p class="card-text" th:text="${product.description}">상품 정보</p>
                            <p class="card-text">
                                가격: <span th:text="${product.price}">89,000원</span>
                            </p>
                        </div>
                    </div>
                </div>
                <!-- /상품 추가 루프 -->
            </div>
        </div>

        <div class="col-md-4 total-price">
            <h2>Total Price</h2>
            <p>주문 상품 수: <span id="item-count">0</span></p>
            <p>상품 총액: <span id="total-amount">0 원</span></p>
            <p>배송비: <span id="shipping-cost">3,000 원</span></p>
            <small class="text-muted">50,000원 이상 배송비 무료</small>
            <hr>
            <p><strong>전체 주문 금액: </strong><span id="final-amount">0 원</span></p>
            <button class="btn btn-primary btn-block">구매하기</button>
        </div>
    </div>
</div>
<footer th:replace="~{fragments/footer :: footer}"></footer>

</body>
</html>